<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="./css/style.css" />
    <title>Buzzer</title>
    <script src="/socket.io/socket.io.js"></script>
    <script src="../js/common.js"></script>
    <script src="../js/admin.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/qrcode/build/qrcode.min.js"></script>
    <link
      rel="apple-touch-icon"
      sizes="180x180"
      href="./favicon/apple-touch-icon.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="./favicon/favicon-32x32.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="16x16"
      href="./favicon/favicon-16x16.png"
    />
  </head>
  <body>
    <div class="top-right">
      <button id="settings" onclick="openSettings()">Einstellungen</button>
    </div>

    <div class="main-content">
      <button onclick="enableBuzzer()" id="enableBuzzer">
        Buzzer freigeben
      </button>
      <button onclick="disableBuzzer()" id="disableBuzzer" class="hide">
        Buzzer sperren
      </button>

      <div class="lists">
        <div class="list">
          <h2>Teilnehmer</h2>
          <div id="userList" class="userList"></div>
        </div>
        <div class="list">
          <h2>Buzz-Liste</h2>
          <div id="buzzList" class="buzzList"></div>
        </div>
      </div>
    </div>

    <dialog id="settings-dialog" class="settings">
      <div class="settings-wrapper">
        <div class="upper">
          <h1>Einstellungen</h1>
          <button class="close" onclick="closeSettings()">&times;</button>
        </div>
        <div>
          <button onclick="openQRModal()" id="openQR">QR-Code erstellen</button>
          <button onclick="closeQRModal()" id="closeQR" class="hide">
            QR-Code schließen
          </button>
          <div class="modal-content hide" id="modal-content">
            <div id="qrcode"></div>
          </div>
        </div>
        <button id="csv-export" onclick="exportCSV()">CSV Exportieren</button>
        <div class="reset-score" id="reset-score">
          <button id="reset-button" onclick="askReset()">
            Punkte zurücksetzen
          </button>
          <button id="cancel-reset" class="hide" onclick="cancelReset()">
            Abbrechen
          </button>
          <button id="confirm-reset" class="danger hide" onclick="resetScore()">
            Zurücksetzen
          </button>
        </div>
        <button class="danger" onclick="deleteCookies()">Abmelden</button>
      </div>
      <div id="score-reset-toast" class="toast hide">Punkte erfolgreich zurückgestetzt</div>
      <div id="export-csv-toast" class="toast hide">CSV wird heruntergeladen</div>
    </dialog>

    <div id="points-dialog-container" class="points"></div>
  </body>
</html>
